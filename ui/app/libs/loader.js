"use strict";var Loader={loading:!1,loadingForeground:!1,loadingBackground:!1,waitingForeground:{},waitingBackground:{},isActive:function(){return Boolean(Object.keys(Loader.waitingForeground).length||Object.keys(Loader.waitingBackground).length)},isForeground:function(){return Object.keys(Loader.waitingForeground).length>0},isBackground:function(){return Object.keys(Loader.waitingBackground).length>0},start:function(o,e){o||(o="default"),void 0===e&&(e=!0);var r=!1;e?(r=Loader.isBackground(),Loader.waitingForeground[o]=!0):Loader.waitingBackground[o]=!0;var d=Loader.isForeground();return document.body.classList.add("loading",d?"loading-foreground":"loading-background"),r&&Loader.timers.backgroundCloseout.setup(),document.body.classList.remove(d?"loading-background":"loading-foreground"),Loader.updateStates(),Loader},startBackground:function(o){return Loader.start(o,!1)},updateStates:function(){Loader.loading=Loader.isActive(),Loader.loadingForeground=Loader.isForeground(),Loader.loadingBackground=Loader.isBackground()},timers:{foregroundCloseout:{handle:null,interval:1e3,callback:function(){document.body.classList.remove("loading-foreground-closing")},setup:function(){document.body.classList.add("loading-foreground-closing"),Loader.timers.foregroundCloseout.handle=setTimeout(Loader.timers.foregroundCloseout.callback,Loader.timers.foregroundCloseout.interval)},teardown:function(){cancelTimeout(Loader.timers.foregroundCloseout.handle)}},backgroundCloseout:{handle:null,interval:1e3,callback:function(){document.body.classList.remove("loading-background-closing")},setup:function(){document.body.classList.add("loading-background-closing"),Loader.timers.backgroundCloseout.handle=setTimeout(Loader.timers.backgroundCloseout.callback,Loader.timers.backgroundCloseout.interval)},teardown:function(){cancelTimeout(Loader.timers.backgroundCloseout.handle)}}},stop:function(o){o||(o="default");var e=Loader.waitingForeground[o];if(e)delete Loader.waitingForeground[o];else{if(!Loader.waitingBackground[o])return;delete Loader.waitingBackground[o]}return Loader.isActive()?Loader.isForeground()||(document.body.classList.add("loading-background"),document.body.classList.remove("loading-foreground"),Loader.timers.foregroundCloseout.setup()):(document.body.classList.remove("loading","loading-foreground","loading-background"),e?Loader.timers.foregroundCloseout.setup():Loader.timers.backgroundCloseout.setup()),Loader.updateStates(),Loader},clear:function(){return Loader.waitingForeground={},Loader.waitingBackground={},Loader.stop(),Loader},templateHTML:'<div class="loader-bar"></div><div class="loader-spinner"></div>',init:function(){var o=document.createElement("div");o.innerHTML=Loader.templateHTML,document.body.appendChild(o)}};document.addEventListener("DOMContentLoaded",Loader.init);